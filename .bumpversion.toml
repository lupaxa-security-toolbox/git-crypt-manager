[bumpversion]
current_version = "0.1.1"

# Treat the entire version as a single opaque string part: "version"
parse = "(?P<version>.*)"
serialize = [
  "{version}",
]

# Default search/replace behaviour; file-specific overrides below
search = "{current_version}"
replace = "{new_version}"
regex = false
ignore_missing_version = false
ignore_missing_files = false

# Git integration
allow_dirty = false
commit = true
message = "Release {new_version}"
commit_args = ""

tag = true
sign_tags = false
tag_name = "v{new_version}"
tag_message = "Release {new_version}"

# Hooks: after committing + tagging, push commits + tags
setup_hooks = []
pre_commit_hooks = []
post_commit_hooks = [
  "git push",
  "git push --tags",
]

# Files where versions are updated
[[bumpversion.files]]
filename = "src/git-crypt-manager"
search = '^VERSION="{current_version}"$'
replace = 'VERSION="{new_version}"'
use_regex = true

[[bumpversion.files]]
filename = "docs/version.md"
search = '^Current version: `{current_version}`$'
replace = 'Current version: `{new_version}`'
use_regex = true
